<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Ubicaciones</title>
    <link rel="stylesheet" href="css/estilos.css">
</head>

<body>
<header>
    <h1>Gesti√≥n de Ubicaciones</h1>
    <nav>
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="eventos.html">Eventos</a></li>
            <li><a href="ubicaciones.html">Ubicaciones</a></li>
            <li><a href="contactos.html">Contactos</a></li>
        </ul>
    </nav>
</header>

<main>
<section>
<h2>Registrar nueva ubicaci√≥n</h2>

<form id="formUbicacion">
    <label>T√≠tulo:</label>
    <input type="text" id="tituloUbicacion" required>

    <label>Direcci√≥n:</label>
    <input type="text" id="direccion" required>

    <label>Latitud:</label>
    <input type="text" id="latitud" placeholder="-0.1807">

    <label>Longitud:</label>
    <input type="text" id="longitud" placeholder="-78.4678">

    <button type="button" onclick="guardarUbicacion()">Guardar Ubicaci√≥n</button>
</form>
</section>

<section>
<h2>Lista de ubicaciones</h2>
<ul id="listaUbicaciones"></ul>
</section>
</main>

<footer>
<p>&copy; 2025 - Caso Pr√°ctico Interacci√≥n Hombre-M√°quina</p>
</footer>

<!-- üî• FIREBASE UBICACIONES -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCR9vM3HNZ0QyCpi0tLV-g865VQ53XcBP4",
  authDomain: "gestion-eventos-steven.firebaseapp.com",
  projectId: "gestion-eventos-steven"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.guardarUbicacion = async function () {
  try {
    await addDoc(collection(db, "ubicaciones"), {
      titulo: document.getElementById("tituloUbicacion").value,
      direccion: document.getElementById("direccion").value,
      latitud: document.getElementById("latitud").value,
      longitud: document.getElementById("longitud").value,
      creado: Date.now()
    });

    alert("üìç Ubicaci√≥n guardada en Firebase");
    document.getElementById("formUbicacion").reset();

  } catch (error) {
    alert("‚ùå Error al guardar la ubicaci√≥n");
    console.error(error);
  }
};
</script>

</body>
</html>
